#Alterar o grafo para um que sejam só nós de bifurcação, sources e sinks e depois aplicar Dijkstra com os pesos dos arcos

ChangeGraph(G)
    
    for i = 1 to n
        if (i.adj.size() == 1 && !source) //Só tem um filho e não é source

            eliminarI(i); //Devolve pais que nao tenham ligacao ja ao filho

            n--;
    

cagarNoI(i)
    
    child = i.adj[0] // <ID do filho, Peso para o filho>

    for v = 1 to n

        if (IsIn(v.adj, i, child[0]))
            v.adj[child[0]][1] = v.adj[i] + child[1];
        
        elif (IsIn(v.adj, i) && !IsIn(v.adj, child[0]))
            v.adj.add(child[0], child[1] + v.adj[i]);
        
        v.adj.remove(i)
    
    V.erase(i);
    
    

O[(V²+VE)/2]
